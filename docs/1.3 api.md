# 版本 `1.3` HTTP API 文档
该文档适用于 `1.3` 版本，所有 API 数据均使用 JSON 格式。

### 公共参数
在发送的所有请求中，都需要携带以下参数内容。

| 项目               | 类型       | 描述                         |
|------------------|----------|----------------------------|
| `verifyPassword` | `String` | 验证密码（在 `config.yml` 文件中指定） |

请求示例：
```json
{
  "verifyPassword": "123456",
  "其它必要数据...": "其它必要数据..."
}
```

返回成功结果示例：
```json
{
  "code": 0,
  "msg": "操作成功",
  "data": "数据内容，具体内容参照后续内容"
}
```

返回失败结果示例：
```json
{
  "code": 1,
  "msg": "失败信息，依据code的不同而返回不同内容"
}
```

### 会话相关

#### 获取会话详细信息
返回指定会话的信息。

##### 请求
| 项目   | 类型     | 描述  |
|------|--------|-----|
| `id` | `Long` | 会话号 |
```
[POST]/session/get
```
```json
{
  "verifyPassword": "123456",
  "id": 12345
}
```

##### 响应
| 项目               | 类型             | 描述        |
|------------------|----------------|-----------|
| `id`             | `Long`         | 会话号       |
| `name`           | `String`       | 会话名       |
| `format`         | `String`       | 群间消息列表    |
| `groups`         | `Long[]`       | 互通群号列表    |
| `administrators` | `Long[]`       | 会话管理员qq列表 |
| `mcConnections`  | `Connection[]` | mc连接      |

其中 `Connection` 的内容如下。

| 项目            | 类型       | 描述              |
|---------------|----------|-----------------|
| `name`        | `String` | MC端名字           |
| `address`     | `String` | 连接来源地址          |             
| `joinFormat`  | `String` | 玩家加入游戏消息格式      |
| `quitFormat`  | `String` | 玩家离开游戏消息格式      |
| `msgFormat`   | `String` | 玩家在游戏内发送消息的消息格式 |
| `deathFormat` | `String` | 玩家死亡时的消息格式      |
| `kickFormat`  | `String` | 玩家被踢出游戏时的消息格式   |

```json
{
  "code": 0,
  "msg": "操作成功",
  "data": [
    {
      "id": 123456,
      "name": "会话名一",
      "format": "[%groupNickname%] <%senderGroupNickname%> %message%",
      "groups": [
        111111111,
        222222222
      ],
      "administrators": [
        3333333333,
        4444444444
      ],
      "mcConnections": [
        {
          "name": "服务器一",
          "address": "/127.0.0.1:23333",
          "joinFormat": "[%serverName%] %playerName% 加入了游戏",
          "quitFormat": "[%serverName%] %playerName% 离开了游戏",
          "msgFormat": "[%serverName%] <%playerName%> %message%",
          "deathFormat": "[%serverName%] %deathMessage%",
          "kickFormat": "[%serverName%] %playerName% 被踢了，因为 %kickReason%"
        },
        {
          "name": "服务器二",
          "...": "..."
        }
      ]
    },
    {
      "id": 223456,
      "name": "会话名二",
      "...": "..."
    }
  ]
}
```

#### 获取会话列表
返回指定页数的会话列表信息。

#### 添加会话
添加一个会话。

#### 删除会话
删除一个会话。

#### 修改会话
修改一个会话。

### 发送公告
向指定MC端发送公告。

### 发送op指令
向指定MC端发送op指令。

### 用户指令相关

#### 获取指定用户指令

#### 获取用户指令列表

#### 添加用户指令

#### 删除用户指令